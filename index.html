<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ideal | AI Perfume Search</title>
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 15vh;
            /* ì‚¬ìš©ìë‹˜ì´ ë³´ë‚´ì£¼ì‹  í•‘í¬ êµ¬ë¦„ ì´ë¯¸ì§€ íŒŒì¼ëª…ì…ë‹ˆë‹¤. */
            background-image: url('Gemini_Generated_Image_yyx2ecyyx2ecyyx2.jpg'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            font-family: 'Pretendard', -apple-system, sans-serif;
            min-height: 100vh;
        }

        #login-status {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.7);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            color: #555;
        }

        .sub-header { color: rgba(0, 0, 0, 0.4); font-size: 13px; margin-bottom: 8px; }
        .logo { font-size: 80px; font-weight: 900; color: #4285F4; margin-bottom: 35px; letter-spacing: -2px; }

        .search-wrapper { width: 90%; max-width: 600px; }
        .search-box { position: relative; display: flex; align-items: center; background-color: rgba(255, 255, 255, 0.9); border-radius: 30px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .search-input { width: 100%; padding: 14px 55px 14px 25px; font-size: 16px; border: 1px solid #dfe1e5; border-radius: 30px; outline: none; background: transparent; }

        .search-icon { position: absolute; right: 20px; color: #9aa0a6; cursor: pointer; }

        #result-area {
            width: 100%;
            margin-top: 20px;
            padding: 25px;
            border-radius: 20px;
            background-color: rgba(255, 255, 255, 0.95);
            display: none; 
            color: #3c4043;
            line-height: 1.7;
            border: 1px solid #eee;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        #rotateMsg { margin-top: 20px; text-align: center; color: rgba(0, 0, 0, 0.5); font-size: 14px; transition: opacity 0.5s; }
        .options { margin-top: 50px; text-align: center; }
        .options a { display: block; color: #1a0dab; text-decoration: none; font-size: 14px; margin-bottom: 15px; cursor: pointer; }
        .options a:hover { text-decoration: underline; }
    </style>
</head>
<body>

    <div id="login-status">â— ìë™ ë¡œê·¸ì¸ ì™„ë£Œ (Guest)</div>

    <div class="sub-header">ë‚˜ë³´ë‹¤ ë‚˜ë¥¼ ë” ì˜ ì•„ëŠ” AIê°€ ì¶”ì²œí•´ì£¼ëŠ” ì´ìƒì ì¸ í–¥ìˆ˜ ê²€ìƒ‰ ì›¹ ì‚¬ì´íŠ¸</div>
    <div class="logo">ideal</div>

    <div class="search-wrapper">
        <div class="search-box">
            <input type="text" id="userInput" class="search-input" placeholder="ë‚˜ ìì‹ ì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ì–´ë¥¼ ì…ë ¥í•´ë´" oninput="checkInput()">
            <svg class="search-icon" onclick="askGemini()" viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
            </svg>
        </div>
        <div id="result-area"></div>
        <div id="rotateMsg">ë‚˜ ìì‹ ì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ì–´ë‚˜ ë¬¸ì¥ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>
    </div>

    <div class="options">
        <a onclick="quickSearch('ë‹¤ë¥¸ ì‚¬ëŒì˜ ê´€ì ì—ì„œ ë³´ëŠ” ë‚˜ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” í–¥ ì•Œì•„ë³´ê¸°')">ë‹¤ë¥¸ ì‚¬ëŒì˜ ê´€ì ì—ì„œ ë³´ëŠ” ë‚˜ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” í–¥ ì•Œì•„ë³´ê¸°</a>
        <a onclick="quickSearch('ë‚˜ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸ ì•Œë ¤ì¤˜')">Geminiê°€ ì•Œë ¤ì£¼ëŠ” ë‚˜ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆëŠ” í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸</a>
    </div>

    <script>
        const msgs = ["ë‚˜ ìì‹ ì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ì–´ë‚˜ ë¬¸ì¥ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.", "ê´€ì‹¬ìˆëŠ” ì´ì„±ì´ ì¢‹ì•„í• ë§Œí•œ í–¥ìˆ˜ ë°”ë¡œ ì°¾ê¸°", "Geminiê°€ ì‚¬ëŒë“¤ì´ ì¦ê²¨ì°¾ëŠ” í–¥ìˆ˜ë¥¼ ì•Œë ¤ì¤„ê²Œìš”"];
        let idx = 0;
        setInterval(() => {
            idx = (idx + 1) % msgs.length;
            const msgEl = document.getElementById('rotateMsg');
            msgEl.style.opacity = 0;
            setTimeout(() => { msgEl.innerText = msgs[idx]; msgEl.style.opacity = 1; }, 500);
        }, 3000);

        function checkInput() {
            const input = document.getElementById('userInput').value;
            if (!input) document.getElementById('result-area').style.display = "none";
        }

        function quickSearch(text) {
            document.getElementById('userInput').value = text;
            askGemini();
        }

        async function askGemini() {
            const input = document.getElementById('userInput').value;
            const resultArea = document.getElementById('result-area');
            if(!input) return;

            resultArea.style.display = "block";
            resultArea.innerHTML = "<b>ë„ˆì˜ ì´ë¯¸ì§€ë¥¼ ë¶„ì„ ì¤‘ì´ì•¼, ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì¤˜... âœ¨</b>";

            const API_KEY = "AIzaSyD_gWJMIWB608Ll9Ud0qfpMp7kf4KFIUCs"; 
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

            try {
                const response = await fetch(API_URL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `ë„ˆëŠ” 21ì‚´ ì¹œí•œ ì–¸ë‹ˆ ì»¨ì…‰ì˜ í–¥ìˆ˜ ì „ë¬¸ê°€ì•¼. ë§íˆ¬ëŠ” '~í•´', '~ì•¼' ê°™ì€ ë°˜ë§ì„ ì„ì–´ì„œ ì•„ì£¼ ì¹œê·¼í•˜ê³  ë‹¤ì •í•˜ê²Œ ëŒ€ë‹µí•´ì¤˜. ì‚¬ìš©ìì˜ ì…ë ¥ '${input}'ì„ ë°”íƒ•ìœ¼ë¡œ ì°°ë–¡ì¸ í–¥ìˆ˜ë¥¼ ë”± í•˜ë‚˜ë§Œ ì¶”ì²œí•´ì£¼ê³ , ê·¸ ì´ìœ ë¥¼ ê°ì„±ì ìœ¼ë¡œ ì„¤ëª…í•´ì¤˜. ë‹µë³€ ì‹œì‘ì€ ë°˜ë“œì‹œ 'ë‚˜ì˜ ì¶”ì²œ'ìœ¼ë¡œ ì‹œì‘í•´ì¤˜.` }] }]
                    })
                });

                const data = await response.json();
                const aiResponse = data.candidates[0].content.parts[0].text;
                
                // ë§ˆí¬ë‹¤ìš´ ê¸°í˜¸ ì œê±°
                const cleanResponse = aiResponse.replace(/[*#]/g, '');
                resultArea.innerHTML = `<div style="font-weight: bold; font-size: 1.2em; margin-bottom: 12px; color: #4285F4;">ğŸŒ¸ ë‚˜ì˜ ì¶”ì²œ</div>${cleanResponse}`;
            } catch (error) {
                resultArea.innerHTML = "ì•—, ì—ëŸ¬ê°€ ë‚¬ì–´! API í‚¤ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ì¤„ë˜?";
            }
        }

        document.getElementById('userInput').addEventListener('keypress', (e) => { if (e.key === 'Enter') askGemini(); });
    </script>
</body>
</html>